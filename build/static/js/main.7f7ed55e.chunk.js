(this.webpackJsonplolishop2=this.webpackJsonplolishop2||[]).push([[0],{74:function(e,t,c){},79:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){},91:function(e,t,c){},94:function(e,t,c){},96:function(e,t,c){"use strict";c.r(t);var n=c(2),r=c(1),a=c.n(r),i=c(23),o=c.n(i),s=(c(74),c(12)),j=c(9),d=c(10),l=a.a.createContext([]),b=function(e){var t=e.children,c=Object(r.useState)([]),a=Object(d.a)(c,2),i=a[0],o=a[1];return Object(n.jsx)(l.Provider,{value:[i,o,function(){return i.reduce((function(e,t){return e+t.price*t.count}),0)}],children:t})},u=c(61),O=function(){var e=Object(r.useContext)(l),t=Object(d.a)(e,1)[0];return Object(n.jsxs)(s.b,{to:"/cart",children:[Object(n.jsx)(u.a,{}),Object(n.jsxs)("span",{className:"badge white",children:[" ",t.reduce((function(e,t){return e+t.count}),0)," "]})]})},h=c(102),x=c(106),m=c(101),p=c(65);c(79);var f=function(){return Object(n.jsxs)(m.a,{id:"dropdown-basic-button",title:"Ver por categor\xedas",children:[Object(n.jsx)(p.a.Item,{children:Object(n.jsx)(s.b,{to:"/categories/accesorios",children:"Accesorios"})}),Object(n.jsx)(p.a.Item,{children:Object(n.jsx)(s.b,{to:"/categories/indumentaria",children:"Indumentaria"})}),Object(n.jsx)(p.a.Item,{children:Object(n.jsx)(s.b,{to:"/categories/deco",children:"Deco"})}),Object(n.jsx)(p.a.Divider,{}),Object(n.jsx)(p.a.Item,{children:Object(n.jsx)(s.b,{to:"/",children:"Ver todos los productos"})})]})},v=function(){return Object(n.jsx)(h.a,{children:Object(n.jsxs)(x.a,{children:[Object(n.jsx)(x.a.Brand,{children:Object(n.jsx)(s.b,{to:"/",children:Object(n.jsx)("img",{src:"https://tipilove.com.au/wp-content/uploads/2018/02/img-logo-new.png",width:"100",height:"80",alt:"Logo Equality"})})}),Object(n.jsx)(x.a.Collapse,{children:Object(n.jsx)(f,{})}),Object(n.jsx)(O,{})]})})},g=(c(81),c(17)),C=c(107),y=c(63),N=(c(82),function(e){var t=e.item,c=t.id,r=t.title,a=(t.description,t.image);return Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsxs)(C.a,{style:{width:"18rem"},className:"Card",children:[Object(n.jsx)(C.a.Img,{variant:"top",src:a}),Object(n.jsxs)(C.a.Body,{children:[Object(n.jsx)(C.a.Title,{children:r}),Object(n.jsx)(s.c,{to:"/item/".concat(c),children:Object(n.jsx)(y.a,{variant:"primary",className:"detailbutton",children:"Ver producto"})})]})]})})}),I=c(34),S=(c(59),I.initializeApp({apiKey:"AIzaSyBt1jPzo_nltOK2IWYaSlo4-rPRQfsbGjI",authDomain:"coderhouse-ecommerce-react.firebaseapp.com",projectId:"coderhouse-ecommerce-react",storageBucket:"coderhouse-ecommerce-react.appspot.com",messagingSenderId:"508934852041",appId:"1:508934852041:web:05ccfd6ff503b4d5a76c18"}));function k(){return I.firestore(S)}var w=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],i=Object(j.f)().categoryId;return Object(r.useEffect)((function(){var e=k();(i?e.collection("products").where("categoryId","==",i):e.collection("products")).get().then((function(e){0===e.size&&console.log("Sin resultados"),a(e.docs.map((function(e){return Object(g.a)(Object(g.a)({},e.data()),{},{id:e.id})})))}))}),[i]),Object(n.jsx)("div",{className:"row",children:c.map((function(e){return Object(n.jsx)(N,{item:e},e.id)}))})},F=(c(89),c(105));var q=function(){return Object(n.jsx)(F.a,{children:Object(n.jsxs)(F.a.Item,{children:[Object(n.jsx)("img",{className:"d-block w-100",src:"https://cdn.shopify.com/s/files/1/1791/7101/files/dog-beach_2560x1432_0fb412d2-354a-4b68-94a6-2e3294d8cc4c.jpg?v=1566488367",alt:"Foto carrusel de im\xe1genes"}),Object(n.jsxs)(F.a.Caption,{children:[Object(n.jsxs)("h2",{children:[" ",Object(n.jsx)("mark",{children:" \xa1Sent\xed orgullo de quien sos! "})]}),Object(n.jsx)("p",{children:"Env\xedos a toda Argentina, para que llegue el orgullo a todas las provincias"})]})]})})};function E(){return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(q,{}),Object(n.jsx)("div",{className:"title",children:Object(n.jsx)("h1",{children:"productos"})}),Object(n.jsx)(w,{product:N})]})}var P=function(){return Object(n.jsx)(E,{})},A=c(53);c(90);function T(e){var t=e.counter,c=e.onAdd;return Object(n.jsxs)(h.a,{children:[Object(n.jsx)(A.b,{id:"controller",onClick:function(){return c("remove")}}),Object(n.jsx)("span",{className:"number",children:t}),Object(n.jsx)(A.a,{id:"controller",onClick:function(){return c("add")}})]})}function B(e){var t=e.min,c=e.max,a=e.handleClick,i=Object(r.useState)(0),o=Object(d.a)(i,2),s=o[0],j=o[1];return Object(n.jsx)(T,{counter:s,onAdd:function(e){"remove"===e&&s>t?(j(s-1),a(s-1)):"add"===e&&s<c&&(j(s+1),a(s+1))}})}var z=c(66);var D=function(e){var t=e.qtyCounter,c=e.product,a=Object(r.useContext)(l),i=Object(d.a)(a,2),o=i[0],s=i[1];return Object(n.jsx)("div",{children:Object(n.jsx)(y.a,{variant:"dark",onClick:function(){var e={id:c.id,title:c.title,price:c.price,description:c.description,count:t};if(o.find((function(t){return t.id===e.id}))){var n=o.map((function(t){return t.id===e.id?Object(g.a)(Object(g.a)({},t),{},{count:e.count+t.count}):t}));s(n)}else s([].concat(Object(z.a)(o),[e]))},children:"Comprar"})})},V=(c(91),function(e){var t=e.product,c=e.itemqty,r=e.addtocart;return Object(n.jsxs)(h.a,{children:[Object(n.jsx)("h3",{children:t.title}),Object(n.jsx)("img",{src:t.image,alt:"Foto del producto",id:"item-img"}),Object(n.jsx)(B,{min:1,max:30,handleClick:r}),Object(n.jsx)("p",{children:t.description}),Object(n.jsxs)("p",{children:["Precio: $ ",Intl.NumberFormat().format(t.price)]}),Object(n.jsx)(D,{qtyCounter:c,product:t})]})}),G=c(103);function L(){var e=Object(r.useState)(!0),t=Object(d.a)(e,2),c=t[0],a=t[1],i=Object(r.useState)([]),o=Object(d.a)(i,2),s=o[0],l=o[1],b=Object(j.f)().productId,u=Object(r.useState)(0),O=Object(d.a)(u,2),h=O[0],x=O[1];return Object(r.useEffect)((function(){k().collection("products").doc(b).get().then((function(e){a(!1),e.data()&&l(Object(g.a)({id:e.id},e.data()))}))}),[b]),Object(n.jsx)(n.Fragment,{children:c?Object(n.jsx)(G.a,{animation:"border",role:"status"}):0===s.length?Object(n.jsx)("h4",{children:"Producto no encontrado"}):Object(n.jsx)(V,{product:s,addtocart:function(e){x(e)},itemqty:h})})}var _=c(54),J=c.n(_),K=c(64),R=c(108),Y=c(45),$=c(104);var H=function(e){var t=e.createOrder,c=Object(r.useState)({firstName:"",lastName:"",email:"",emailConfirmation:"",phone:""}),a=Object(d.a)(c,2),i=a[0],o=a[1],s=function(e){var t=e.target,c=t.name,n=t.value;o((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(Y.a)({},c,n))}))},j=!(i.email.length&&i.firstName.length&&i.lastName.length&&i.emailConfirmation.length&&i.phone.length&&i.email===i.emailConfirmation);return Object(n.jsx)(h.a,{children:Object(n.jsxs)($.a.Group,{children:[Object(n.jsx)($.a.Control,{type:"text",placeholder:"Nombre",name:"firstName",onChange:s}),Object(n.jsx)("br",{}),Object(n.jsx)($.a.Control,{type:"text",placeholder:"Apellido",name:"lastName",onChange:s}),Object(n.jsx)("br",{}),Object(n.jsx)($.a.Control,{type:"text",placeholder:"Tel\xe9fono de contacto",name:"phone",onChange:s}),Object(n.jsx)("br",{}),Object(n.jsx)($.a.Control,{type:"text",placeholder:"E-mail",name:"email",onChange:s}),Object(n.jsx)("br",{}),Object(n.jsx)($.a.Control,{type:"text",placeholder:"Confirmaci\xf3n de e-mail",name:"emailConfirmation",onChange:s}),Object(n.jsx)("br",{}),Object(n.jsx)(y.a,{variant:"primary",type:"submit",disabled:j,onClick:function(){var e=i.firstName,c=i.lastName,n=i.email,r=i.phone;t({firstName:e,lastName:c,email:n,phone:r})},children:"Confirmar orden"})]})})};c(94);var M=function(e){var t=e.createOrder,c=e.orderId,a=Object(r.useContext)(l),i=Object(d.a)(a,3),o=i[0],j=(i[1],i[2]);return c?Object(n.jsxs)(R.a,{variant:"success",children:[Object(n.jsx)(R.a.Heading,{children:"\xa1Gracias por tu compra! "}),Object(n.jsxs)("p",{children:["El c\xf3digo de tu compra es: ",c]}),Object(n.jsx)("hr",{}),Object(n.jsx)("p",{className:"mb-0",children:"Ya te estamos enviando un e-mail con la informaci\xf3n de tu orden"})]}):Object(n.jsxs)("div",{children:[Object(n.jsxs)(h.a,{children:[o.length?Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:"Resumen de tu compra:"}),Object(n.jsx)("ul",{children:o.map((function(e){return Object(n.jsxs)("li",{children:[e.title," ",Object(n.jsx)("br",{}),Object(n.jsx)("span",{className:"qty",children:"cantidad:"})," ",e.count]})}))}),Object(n.jsxs)("h5",{children:["Total de la compra: $",j()]})]}):Object(n.jsx)("h2",{children:"Tu carrito est\xe1 vac\xedo"}),Object(n.jsx)(y.a,{variant:"info",children:Object(n.jsx)(s.b,{to:"/",className:"buy-link",children:"Seguir comprando"})})]}),Object(n.jsx)("br",{}),Object(n.jsx)(H,{createOrder:t})]})},Q=function(){var e=Object(r.useContext)(l),t=Object(d.a)(e,3),c=t[0],a=(t[1],t[2]),i=Object(r.useState)(),o=Object(d.a)(i,2),s=o[0],j=o[1];function b(){return(b=Object(K.a)(J.a.mark((function e(t){var n,r,i,o,s;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=k(),r=n.collection("orders"),i={buyer:t,cartProducts:c,date:I.firestore.FieldValue.serverTimestamp(),state:"created",total:a()},e.prev=3,e.next=6,r.add(i);case 6:o=e.sent,s=o.id,j(s),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("Error");case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}return Object(n.jsx)("div",{children:Object(n.jsx)(M,{createOrder:function(e){return b.apply(this,arguments)},orderId:s})})};var W=function(){return Object(n.jsx)(b,{children:Object(n.jsxs)(s.a,{children:[Object(n.jsx)(v,{}),Object(n.jsxs)(j.c,{children:[Object(n.jsx)(j.a,{exact:!0,path:"/",render:function(){return Object(n.jsx)(P,{})}}),Object(n.jsx)(j.a,{path:"/categories/:categoryId",render:function(){return Object(n.jsx)(P,{})}}),Object(n.jsx)(j.a,{path:"/item/:productId",render:function(){return Object(n.jsx)(L,{})}}),Object(n.jsx)(j.a,{exact:!0,path:"/cart",render:function(){return Object(n.jsx)(Q,{})}})]})]})})},U=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,109)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),r(e),a(e),i(e)}))};c(95);o.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(W,{})}),document.getElementById("root")),U()}},[[96,1,2]]]);
//# sourceMappingURL=main.7f7ed55e.chunk.js.map